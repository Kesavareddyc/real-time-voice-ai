# Real-Time Voice Interaction System (Backend)

This repository contains the **FastAPI backend** for the Real-Time Voice Interaction System. The backend handles:

* Speech-to-Text (STT)
* AI text generation using OpenAI
* Database logging of user/AI messages
* Optional Text-to-Speech (TTS)
* Frontend communication via REST API
* Live assistant mode (optional)

This backend is fully compatible with **free cloud deployment on Railway**.

---

## ğŸš€ Features

### âœ” Speech-to-Text (STT)

Converts WAV audio to text using Python SpeechRecognition (Google STT).

### âœ” AI Response (OpenAI)

Backend sends text prompts to OpenAI's Responses API and returns the AI's reply.

### âœ” Conversation Logging

Stores each user message and AI reply in SQLite.

### âœ” Clean API Endpoints

* `POST /respond/` â€“ Send text and get AI reply
* `POST /process_audio/` â€“ Upload audio â†’ STT â†’ AI reply
* `GET /history/` â€“ Fetch all conversation logs
* `GET /` â€“ Health check

### âœ” CORS Enabled

Allows communication with separate frontend (Netlify/Vercel/GitHub Pages).

---

## ğŸ“ Project Structure

```
backend/
â”œâ”€â”€ main_app.py
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ brain_module.py
â”‚   â”œâ”€â”€ stt_module.py
â”‚   â”œâ”€â”€ tts_module.py
â”‚   â”œâ”€â”€ db_module.py
â”‚   â”œâ”€â”€ integrator_module.py
â”‚   â””â”€â”€ live_assistant.py
â”œâ”€â”€ outputs/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Procfile
â”œâ”€â”€ railway.toml (optional)
â”œâ”€â”€ .gitignore
â””â”€â”€ .env  (NOT committed to GitHub)
```

---

## ğŸ”§ Installation (Local)

### 1. Clone the repository

```
git clone https://github.com/<your-username>/real-time-speech-backend.git
cd real-time-speech-backend
```

### 2. Create a virtual environment

```
python -m venv venv
venv\Scripts\activate   # Windows
```

### 3. Install dependencies

```
pip install -r requirements.txt
```

### 4. Create `.env` file

```
OPENAI_API_KEY=your_openai_key
```

### 5. Run the server

```
uvicorn main_app:app --host 127.0.0.1 --port 9000 --reload
```

Visit in browser:

```
http://127.0.0.1:9000
```

---

## ğŸŒ API Usage

### ğŸ”¹ Send text to AI

```
POST /respond/
{
  "prompt": "Hello"
}
```

### ğŸ”¹ Upload audio â†’ STT + AI

```
POST /process_audio/
Form-Data: file = <wav file>
```

### ğŸ”¹ History

```
GET /history/
```

---

## ğŸš€ Deployment (Railway - Free)

### 1. Push backend to GitHub

```
git add .
git commit -m "backend"
git push -u origin main
```

### 2. Deploy on Railway

* Go to [https://railway.app](https://railway.app)
* Create New â†’ Deploy from GitHub Repo
* Add Environment Variable:

```
OPENAI_API_KEY = your_key
```

* Deploy

### 3. After deployment

Your backend URL will look like:

```
https://your-backend.up.railway.app
```

Use this URL in your frontend.

---

## ğŸ“ Notes

* `.env` MUST NOT be pushed to GitHub.
* Railway provides free hosting for backend.
* The frontend is deployed separately (Netlify, Vercel, GitHub Pages).

---

## ğŸ’¡ Author

Voice Interaction System â€“ Student Project
