# ğŸ¤ Real-Time Voice Interaction System (Backend)

This repository contains the **backend API** for a Real-Time Voice Interaction System capable of:

* Speech-to-Text (STT)
* AI response generation (OpenAI Responses API)
* Text-to-Speech (TTS) for live assistant mode
* Conversation logging (SQLite)
* Clean REST API for any frontend

This backend is deployed easily on **Render (Free Tier)**.

---

## ğŸš€ Features

* **FastAPI** backend
* **CORS enabled** for frontend communication
* **OpenAI Responses API** for replying to users
* **Google STT** via `speech_recognition`
* **gTTS** for live audio playback (local mode only)
* **SQLite database** for storing text interactions
* Modular structure: `brain`, `stt`, `tts`, `db`, `live_assistant`, `integrator`

---

## ğŸ“ Project Structure

```
backend/
â”‚â”€â”€ main_app.py
â”‚â”€â”€ requirements.txt
â”‚â”€â”€ Procfile
â”‚â”€â”€ .gitignore
â”‚â”€â”€ modules/
â”‚   â”œâ”€â”€ brain_module.py
â”‚   â”œâ”€â”€ stt_module.py
â”‚   â”œâ”€â”€ tts_module.py
â”‚   â”œâ”€â”€ db_module.py
â”‚   â”œâ”€â”€ integrator_module.py
â”‚   â””â”€â”€ live_assistant.py
â”‚â”€â”€ outputs/
â”‚â”€â”€ interaction.db
```

---

## âš™ï¸ Installation (Local)

```bash
git clone https://github.com/your-username/your-repo.git
cd backend
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
```

Create a `.env` file:

```
OPENAI_API_KEY=your_key_here
```

---

## â–¶ï¸ Run the Backend Locally

```bash
uvicorn main_app:app --reload --port 9000
```

Visit API Docs:

```
http://127.0.0.1:9000/docs
```

---

## ğŸŒ Deploy on Render (Free)

### 1ï¸âƒ£ Push backend to GitHub

Make sure you have:

* `requirements.txt`
* `Procfile`
* `.env` in **.gitignore**

### 2ï¸âƒ£ Create new Render Web Service

* Build Command: `pip install -r requirements.txt`
* Start Command: `uvicorn main_app:app --host 0.0.0.0 --port $PORT`

### 3ï¸âƒ£ Add environment variable

Render Dashboard â†’ Environment â†’ Add:

```
OPENAI_API_KEY=your_key_here
```

---

## ğŸ”¥ API Endpoints

### POST `/respond/`

Send text and get AI reply.

```json
{
  "prompt": "Hello"
}
```

### POST `/process_audio/`

Upload WAV audio â†’ STT â†’ AI â†’ DB â†’ reply.

### GET `/history/`

Fetch saved conversations.

### GET `/`

Backend health check.

---

## ğŸ§ Live Assistant (Optional)

Run this locally only (not for deployment):

```bash
python -m modules.live_assistant
```

---

## ğŸ”’ Security Notes

* **Do NOT commit `.env`**
* Render stores API keys securely
* SQLite database auto-creates on startup

---



âœ¨ **Your backend is now production-ready!**
